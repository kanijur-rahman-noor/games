window.__require=function t(e,o,i){function c(a,s){if(!o[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var u="function"==typeof __require&&__require;if(!s&&u)return u(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var d=o[a]={exports:{}};e[a][0].call(d.exports,function(t){return c(e[a][1][t]||t)},d,d.exports,t,e,o,i)}return o[a].exports}for(var n="function"==typeof __require&&__require,a=0;a<i.length;a++)c(i[a]);return c}({BGAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"99e92jp9DZDMrEmt2IE5ZOR","BGAdapter"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.designWidth=720,e.designHeight=1280,e}return __extends(e,t),e.prototype.onLoad=function(){var t=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),e=this.node.width*t,o=this.node.height*t;this.node.scale=Math.max(cc.view.getCanvasSize().width/e,cc.view.getCanvasSize().height/o)},e.prototype.update=function(){this.deviceWidth=cc.view.getFrameSize().width,this.deviceHeight=cc.view.getFrameSize().height,this.deviceHeight/this.deviceWidth<1.5?(this.node.parent.getComponent(cc.Canvas).fitHeight=!0,this.node.parent.getComponent(cc.Canvas).fitWidth=!0):(this.node.parent.getComponent(cc.Canvas).fitHeight=!1,this.node.parent.getComponent(cc.Canvas).fitWidth=!0)},e.positionY=0,__decorate([c],e)}(cc.Component));o.default=n,cc._RF.pop()},{}],Ball:[function(t,e){"use strict";cc._RF.push(e,"1d3eco/MrRNJrBdpHK5Et9m","Ball");var o=t("./Config"),i=cc.Class({extends:cc.Component,properties:function(){return{rigidBody:{type:cc.RigidBody,default:null},isTouchedGround:!1,audio_Homeplay:cc.AudioClip,audio_shape4:cc.AudioClip,bgaudio:cc.AudioClip}},onLoad:function(){this.rigidBody=this.getComponent(cc.RigidBody),this.collider=this.getComponent(cc.Collider),cc.audioEngine.play(this.audio_shape4,!1,1)},update:function(){if(this.isTouchedGround){this.rigidBody.active=!1,this.rigidBody.linearVelocity=cc.Vec2.ZERO;var t=[];t.push(this.node.position),t.push(cc.v2(330,-540)),t.push(cc.v2(338,608)),t.push(cc.v2(162,557)),this.node.runAction(cc.sequence(cc.cardinalSplineTo(1,t,.9),cc.callFunc(function(){this.rigidBody.active=!0,this.node.group=o.groupBallInRecycle,this.main.recycleBall()}.bind(this)))),this.isTouchedGround=!1}"0"===cc.sys.localStorage.getItem("PINsound")&&cc.audioEngine.pauseAllEffects()},onBeginContact:function(t,e,o){"ground"==o.node.name&&(this.isTouchedGround=!0),"left"==o.node.name&&cc.audioEngine.play(this.audio_shape4,!1,.5),"right"==o.node.name&&cc.audioEngine.play(this.audio_shape4,!1,.5)}});e.exports=i,cc._RF.pop()},{"./Config":"Config"}],Barrier:[function(t,e){"use strict";cc._RF.push(e,"60c62mT6OhALLjJRsK7kVMV","Barrier");var o=cc.Class({extends:cc.Component,properties:function(){return{lbScore:{default:null,type:cc.Label},isAddBuffBall:!1,audio_shape1:cc.AudioClip,audio_shape2:cc.AudioClip,audio_shape3:cc.AudioClip,shapeNode:cc.SpriteFrame}},onLoad:function(){},update:function(){"0"===cc.sys.localStorage.getItem("PINsound")&&cc.audioEngine.pauseAllEffects()},start:function(){this.lbScore&&(this.lbScore.node.rotation=-this.node.rotation),this.setScore(this.main.setBarrierScore())},randomNum:function(t,e){var o=e-t,i=Math.random();return t+Math.floor(i*o)},setScore:function(t){this.lbScore&&(this.score=t,this.lbScore.string=this.score.toString())},onBeginContact:function(t,e){if(this.isAddBuffBall)this.main.addBall(this.node.position),this.main.removeBarrier(this);else{switch(e.node.name){case"polygon3":"0"!=cc.sys.localStorage.getItem("PINsound")&&(cc.audioEngine.play(this.audio_shape1,!1,.5),console.log("this.main.prefabBarriers"));break;case"polygon4":case"polygon5":"0"!=cc.sys.localStorage.getItem("PINsound")&&cc.audioEngine.play(this.audio_shape2,!1,.5);break;case"polygon-circle":"0"!=cc.sys.localStorage.getItem("PINsound")&&cc.audioEngine.play(this.audio_shape1,!1,.5)}this.main.addScore(),1==this.score?this.main.removeBarrier(this):(this.setScore(this.score-1),this.main.shake(this))}}});e.exports=o,cc._RF.pop()},{}],Config:[function(t,e){"use strict";cc._RF.push(e,"12c6crNXPJI1reYdtydpz+A","Config"),e.exports={groupBallInGame:"ballInGame",groupBallInRecycle:"ballInRecycle"},cc._RF.pop()},{}],Home:[function(t,e){"use strict";cc._RF.push(e,"0aa66nDyExOQZoRfwfov4dw","Home"),cc.Class({extends:cc.Component,properties:function(){return{progressBar:null,loadingLabel:cc.Label,startButton:cc.Button,audio_BGplay:cc.AudioClip}},onLoad:function(){cc.director.preloadScene("game",this.onProgress.bind(this),this.onLoaded.bind(this))},start:function(){this.progressBar=this.node.getChildByName("progressBar").getComponent(cc.ProgressBar),this.startButton.node.active=!1},onProgress:function(t,e){var o=t/e;this.progressBar.progress=o,this.loadingLabel.string="Loading...("+parseInt(100*o).toString()+"\uff09"},onLoaded:function(){this.loadingLabel.string="Loading complete (100%)",this.startButton.node.active=!0}}),cc._RF.pop()},{}],MainController:[function(t,e){"use strict";cc._RF.push(e,"127dcBUoo1D6LKVwdsIyXAx","MainController");var o=t("./Ball"),i=t("./Barrier"),c=t("./Config");t("./Home"),t("./Shake");var n=cc.Class({extends:cc.Component,properties:function(){return{prefabBarriers:{type:cc.Prefab,default:[]},prefabBall:cc.Prefab,balls:{type:o,default:[]},barriers:{type:i,default:[]},lbScoreCount:cc.Label,lbScoreCount1:cc.Label,lbScoreCount2:cc.Label,ballCount:cc.Label,guide:cc.Node,gameStatus:!0,gameOverMark:cc.Node,myMusic:cc.AudioClip,audio_score:cc.AudioClip,audio_restartplay:cc.AudioClip,audio_linetouch:cc.AudioClip,Rippel:cc.Node,BgSound:cc.AudioClip,audio_shape4:cc.AudioClip,btnn_soundon:cc.Node,btnn_soundoff:cc.Node,takeAim:cc.Node}},onLoad:function(){"0"!=cc.sys.localStorage.getItem("PINsound")?this.mainsoundon():this.mainsoundoff(),cc.sys.localStorage.setItem(this.audioEngine,"1"),cc.director.getPhysicsManager().enabled=!0,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.init(),this.guideShow(),this.addBarriers()},update:function(){"0"===cc.sys.localStorage.getItem("PINsound")&&cc.audioEngine.pauseAllEffects()},Home:function(){1==this.btnn_soundon.active&&cc.sys.localStorage.setItem("PINsound","1"),"0"!=cc.sys.localStorage.getItem("PINsound")&&cc.audioEngine.play(this.audio_restartplay,!1,.8),cc.director.loadScene("home")},restart:function(){"0"!=cc.sys.localStorage.getItem("PINsound")&&(cc.audioEngine.pauseAllEffects(),cc.audioEngine.stopAll()),cc.director.loadScene("game")},init:function(){this.score=0,this.recycleBallsCount=1,this.barrierScoreRate=0,this.balls[0].main=this,this.balls[0].node.group=c.groupBallInRecycle,this.gameOverMark.active=!1,this.gameOverMark.zIndex=10,this.guide.zIndex=10,this.guide.active=!1,this.takeAim.main=this},onTouchStart:function(){this.guideHide()},onTouchEnd:function(t){if(this.isRecycleFinished()){this.node.getChildByName("take-aim").getComponent(cc.Graphics).clear(),this.recycleBallsCount=0;var e=this.node.convertTouchToNodeSpaceAR(t.touch);this.shootBalls(e.sub(cc.v2(0,400)))}},addBall:function(t){cc.audioEngine.play(this.audio_shape4,!1,.8);var e=cc.instantiate(this.prefabBall).getComponent(o);e.node.parent=this.node,e.node.position=t,e.main=this,e.node.group=c.groupBallInGame,this.balls.push(e),this.setBallCount(this.balls.length)},setBallCount:function(t){this.ballCount.string="Number of balls\uff1a"+t.toString()},shootBalls:function(t){var e=this;if(this.gameStatus)for(var o=function(o){var i=e.balls[o];e.scheduleOnce(function(){this.shootBall(i,t)}.bind(e),.2*o)},i=0;i<this.balls.length;i++)o(i)},shootBall:function(t,e){t.rigidBody.active=!1;var o=[];o.push(t.node.position),o.push(cc.v2(0,400)),t.node.group=c.groupBallInGame,t.node.runAction(cc.sequence(cc.cardinalSplineTo(.8,o,.5),cc.callFunc(function(){t.rigidBody.active=!0,t.rigidBody.linearVelocity=e.mul(3)})))},recycleBall:function(){var t=this;if(0==this.recycleBallsCount&&cc.audioEngine.play(this.myMusic,!1,.8),this.recycleBallsCount++,this.barrierScoreRate+=.1,this.isRecycleFinished()){for(var e=function(e){var o=t.barriers[e];o.node.runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,100)),cc.callFunc(function(){o.node.position.y>100&&o.node.runAction(cc.shake(1.5,3,3)),o.node.position.y>300&&(cc.audioEngine.pauseAllEffects(),this.showw())}.bind(t))))},o=0;o<this.barriers.length;o++)e(o);this.addBarriers()}},isRecycleFinished:function(){return this.recycleBallsCount==this.balls.length},addBarriers:function(){for(var t=-270+this.getRandomSpace();t<200;){var e=cc.instantiate(this.prefabBarriers[Math.floor(Math.random()*this.prefabBarriers.length)]).getComponent(i);e.node.parent=this.node,e.node.position=cc.v2(t,-410),e.lbScore&&(e.node.rotation=360*Math.random()),e.main=this,t+=this.getRandomSpace(),this.barriers.push(e)}},shake:function(t){var e=cc.shake(.7,1,1);t.node.runAction(e)},addScore:function(){this.score++,this.lbScoreCount.string="Score\uff1a"+this.score.toString()},setBarrierScore:function(){return Math.floor(this.randomNum(1+2*this.barrierScoreRate,5+3*this.barrierScoreRate))},removeBarrier:function(t){var e=this.barriers.indexOf(t);-1!=e&&(t.node.removeFromParent(!1),this.barriers.splice(e,1))},getRandomSpace:function(){return 80+200*Math.random()},randomNum:function(t,e){var o=e-t,i=Math.random();return t+Math.floor(i*o)},guideShow:function(){this.guide.active=!0,this.guide.getChildByName("handMove").getComponent(cc.Animation).play("handMove")},guideHide:function(){this.guide.active=!1,this.guide.getChildByName("handMove").getComponent(cc.Animation).stop("handMove")},gameStart:function(){cc.director.loadScene("game")},gameOver:function(){var t=this;"0"!=cc.sys.localStorage.getItem("PINsound")&&cc.audioEngine.play(this.audio_linetouch,!1,.5),this.gameStatus=!1,this.gameOverMark.active=!0,this.gameOverMark.getChildByName("score").getComponent(cc.Label).string=this.score.toString(),cc.tween(this.Rippel).to(.5,{scale:1.1}).to(.08,{scale:1}).call(function(){t.Rippel.setScale(0),cc.audioEngine.play(t.audio_score,!1,1)}).start(),cc.tween(this.Rippel.getComponent(cc.UIOpacity)).to(.6,{opacity:0}).call(function(){t.Rippel.getComponent(cc.UIOpacity).opacity=255}).start(),null==cc.sys.localStorage.getItem("PBCScore")?(cc.sys.localStorage.setItem("PBCScore",this.score.toString()),this.lbScoreCount2.string="Best : "+this.score.toString()):this.score<Number(cc.sys.localStorage.getItem("PBCScore"))?this.lbScoreCount2.string="Best : "+cc.sys.localStorage.getItem("PBCScore"):this.score>=Number(cc.sys.localStorage.getItem("PBCScore"))&&(this.lbScoreCount2.string="Best : "+this.score.toString(),cc.sys.localStorage.setItem("PBCScore",this.score.toString()))},mainsoundon:function(){cc.audioEngine.play(this.BgSound,!0,.4),this.btnn_soundon.active=!0,this.btnn_soundoff.active=!1,1==this.btnn_soundon.active?cc.sys.localStorage.setItem("PINsound","1"):cc.sys.localStorage.setItem("PINsound","0")},mainsoundoff:function(){cc.audioEngine.pause(this.BgSound),this.btnn_soundon.active=!1,this.btnn_soundoff.active=!0,1==this.btnn_soundoff.active?cc.sys.localStorage.setItem("PINsound","0"):cc.sys.localStorage.setItem("PINsound","1")},showw:function(){this.gameOver(),cc.audioEngine.pause(this.BgSound,!0,.4),cc.sys.localStorage.setItem("audioEngine","1")}});e.exports=n,cc._RF.pop()},{"./Ball":"Ball","./Barrier":"Barrier","./Config":"Config","./Home":"Home","./Shake":"Shake"}],NewScript1:[function(t,e,o){"use strict";cc._RF.push(e,"eb2073wQnFMWLt+NeLEpcys","NewScript1"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BgaudioNode=null,e}return __extends(e,t),e.prototype.start=function(){cc.audioEngine.play(this.audio_BGplay,!0,.4)},e.prototype.onload=function(){},__decorate([n(cc.AudioSource)],e.prototype,"BgaudioNode",void 0),__decorate([n(cc.Node)],e.prototype,"btn_off",void 0),__decorate([n(cc.AudioClip)],e.prototype,"audio_BGplay",void 0),__decorate([n(cc.AudioSource)],e.prototype,"audio_play",void 0),__decorate([n(cc.AudioSource)],e.prototype,"audio_play1",void 0),__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],NewScript:[function(t,e,o){"use strict";cc._RF.push(e,"2530731ciJGnb5hxcYrZv8I","NewScript"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return __extends(e,t),e.prototype.start=function(){},e.Adname=null,__decorate([n(cc.Label)],e.prototype,"label",void 0),__decorate([n],e.prototype,"text",void 0),__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],PINAudio:[function(t,e){"use strict";cc._RF.push(e,"01ca96SX7pKGrE2nd06ILje","PINAudio"),cc.Class({extends:cc.Component,properties:function(){return{btn_soundon:cc.Node,btn_soundoff:cc.Node,audio_play1:cc.AudioSource}},start:function(){},soundon:function(){this.audio_play1.play(),cc.audioEngine.resumeAllEffects(),this.btn_soundon.active=!0,this.btn_soundoff.active=!1,1==this.btn_soundon.active?cc.sys.localStorage.setItem("PINsound","1"):cc.sys.localStorage.setItem("PINsound","0")},soundoff:function(){cc.audioEngine.pauseAllEffects(),this.audio_play1.pause(),cc.audioEngine.play(this.audio_play,!1,.8),this.btn_soundon.active=!1,this.btn_soundoff.active=!0,1==this.btn_soundoff.active?cc.sys.localStorage.setItem("PINsound","0"):cc.sys.localStorage.setItem("PINsound","1")}}),cc._RF.pop()},{}],Shake:[function(t,e){"use strict";cc._RF.push(e,"f3b0cFDpm9ATLXIIKo9XlwM","Shake"),cc.Shake=cc.ActionInterval.extend({_initial_x:0,_initial_y:0,_strength_x:0,_strength_y:0,ctor:function(t,e,o){this.initWithDuration(t,e,o)},initWithDuration:function(t,e,o){return cc.ActionInterval.prototype.initWithDuration.call(this,t),this._strength_x=e,this._strength_y=o,!0},rangeRand:function(t,e){return Math.random()*(e-t)+t},update:function(){var t=this.rangeRand(-this._strength_x,this._strength_x),e=this.rangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},startWithTarget:function(t){cc.ActionInterval.prototype.startWithTarget.call(this,t),this._initial_x=t.x,this._initial_y=t.y},stop:function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.call(this)}}),cc.shake=function(t,e,o){return new cc.Shake(t,e,o)},cc._RF.pop()},{}],TakeAim:[function(t,e){"use strict";cc._RF.push(e,"47e07n9NFtIvo4368Li4gPR","TakeAim"),cc.Class({extends:cc.Component,properties:function(){return{arraw:cc.Sprite}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},onTouchMove:function(t){if(this.node.main.isRecycleFinished()){var e=cc.v2(0,446),o=this.node.convertTouchToNodeSpaceAR(t.touch);if(!(o.y>e.y)){var i=this.node.getComponent(cc.Graphics),c=o.sub(e),n=c.mag(),a=c.normalize().mul(40),s=e.clone();for(i.fillColor=cc.color(255,255,255,150),s.addSelf(a),s.addSelf(a),i.clear();n>40;)i.circle(s.x,s.y,5),i.fill(),s.addSelf(a),n-=40;var r=e.sub(o),u=Math.atan2(r.y,r.x)/Math.PI*180;this.arraw.node.rotation=-u}}}}),cc._RF.pop()},{}],gameStart:[function(t,e){"use strict";cc._RF.push(e,"1efc6oQvkdKzJdKa98PGRNk","gameStart"),t("./Home"),cc.Class({extends:cc.Component,properties:function(){var t;return(t={sound_spr:cc.spriteFrame,audioBtn:cc.Node,playcountAudio:cc.AudioClip,sound_btn_click:cc.AudioClip,audioSource_:cc.AudioSource,AudioWillPlay:!1}).audioBtn=cc.Node,t.sounds_Spr1=cc.SpriteFrame,t.sounds_Spr0=cc.SpriteFrame,t.audioSource_=!1,t.btn_soundon=cc.Node,t.btn_soundoff=cc.Node,t.audio_BGplay=cc.AudioClip,t.audio_play=cc.AudioClip,t.audio_play1=cc.AudioSource,t.btn_off=cc.Node,t.startbtn=cc.Node,t},start:function(){this.startbtn.active=!0},onLoad:function(){this.startbtn.active=!0,this.node.on("click",this.gameStart,this),"0"==cc.sys.localStorage.getItem("PINsound")&&(this.btn_soundon.active=!1,this.btn_soundoff.active=!0)},gameStart:function(){this.audio_play1.pause(),cc.audioEngine.pauseAllEffects(),"0"!=cc.sys.localStorage.getItem("PINsound")&&cc.audioEngine.play(this.audio_play,!1,.8),cc.director.loadScene("game")},update:function(){"0"===cc.sys.localStorage.getItem("PINsound")&&cc.audioEngine.pauseAllEffects()},soundon:function(){this.audio_play1.play(),cc.audioEngine.resumeAllEffects(),this.btn_soundon.active=!0,this.btn_soundoff.active=!1,1==this.btn_soundon.active?cc.sys.localStorage.setItem("PINsound","1"):cc.sys.localStorage.setItem("PINsound","0")},soundoff:function(){cc.audioEngine.pauseAllEffects(),this.audio_play1.pause(),cc.audioEngine.play(this.audio_play,!1,.8),this.btn_soundon.active=!1,this.btn_soundoff.active=!0,1==this.btn_soundoff.active?cc.sys.localStorage.setItem("PINsound","0"):cc.sys.localStorage.setItem("PINsound","1")},stopsound:function(){cc.audioEngine.pauseAllEffects(),this.audio_play1.pause(),cc.audioEngine.play(this.audio_play,!1,.8),this.btn_off.active=!0,1==this.btn_off.active?cc.sys.localStorage.setItem("PINsoundd","0"):cc.sys.localStorage.setItem("PINsoundd","1")}}),cc._RF.pop()},{"./Home":"Home"}],"use_v2.0.x_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"d922807hkhIlpyW4C0pqqLe","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["use_v2.0.x_cc.Toggle_event","BGAdapter","Ball","Barrier","Config","Home","MainController","NewScript","NewScript1","PINAudio","Shake","TakeAim","gameStart"]);