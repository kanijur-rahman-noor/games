window.__require=function t(e,o,n){function r(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=o[c]={exports:{}};e[c][0].call(l.exports,function(t){return r(e[c][1][t]||t)},l,l.exports,t,e,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({BackGround:[function(t,e,o){"use strict";cc._RF.push(e,"3a90cmdI59ErJw75snyGN9l","BackGround");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Background=void 0;var c=t("./Data"),s=cc._decorator,a=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=[],e.speed=c.Data.bgSpeed,e.allTime=0,e}return r(e,t),e.prototype.onLoad=function(){this.fixBgPos(this.bg),cc.director.getCollisionManager().enabled=!0},e.prototype.fixBgPos=function(t){t[0].x=0;for(var e=t[0].getBoundingBox(),o=1;o<t.length;o++)t[o].setPosition(e.xMin,e.yMax*o)},e.prototype.update=function(t){this.bgMove(this.bg,this.speed,t),this.checkBgReset(this.bg)},e.prototype.bgMove=function(t,e,o){for(var n=0;n<t.length;n++)t[n].y-=e*o},e.prototype.checkBgReset=function(t){if(t[0].getBoundingBox().yMax<=0){var e=t.shift();t.push(e);var o=t[0];e.y=o.getBoundingBox().yMax}},i([u(cc.Node)],e.prototype,"bg",void 0),i([a],e)}(cc.Component);o.Background=l,cc._RF.pop()},{"./Data":"Data"}],Board:[function(t,e,o){"use strict";cc._RF.push(e,"51447MZm/tKYpHqojpv91ke","Board");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Board=void 0;var c=t("./Data"),s=cc._decorator,a=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graphics=null,e.head_collide=null,e.bgsound=null,e.snakehitsound=null,e.main=null,e.increasePosX=0,e.increasePosY=c.Data.snakeInitPosY,e.increaseConstX=c.Data.bgSpeed,e.increaseConstY=c.Data.bgSpeed,e.isClick=!0,e.isDie=!1,e.snakeColor=0,e.sspeed=c.Data.bgSpeed,e.headposy=0,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.main.startGame(),cc.audioEngine.playMusic(this.bgsound,!1),this.node.parent.on(cc.Node.EventType.TOUCH_START,function(){t.increaseConstX*=-1,t.isClick=!0,t.schedule(t.foodSpawningSpeed,c.Data.frequency,c.Data.ProduceFoodIntervalMax+1,0),c.Data.ProduceFoodIntervalMax<=c.Data.maxFinalValue&&t.unschedule(t.foodSpawningSpeed),t.schedule(t.snakespeed,c.Data.frequency,c.Data.bgSpeed+1,0),c.Data.bgSpeed>=700&&t.unschedule(t.snakespeed)}),this.increasePosX=cc.winSize.width/2},e.prototype.init=function(t){this.main=t},e.prototype.getAngle=function(t,e){return Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI)},e.prototype.foodSpawningSpeed=function(){c.Data.ProduceFoodIntervalMax-=c.Data.maxDecValue},e.prototype.snakespeed=function(){c.Data.bgSpeed+=c.Data.speedincrement},e.prototype.changeColor=function(){switch(this.snakeColor){case 0:this.graphics.strokeColor=cc.Color.RED.fromHEX("#FF0001"),this.head_collide.color=cc.Color.RED.fromHEX("#FF0001");break;case 1:this.graphics.strokeColor=cc.Color.GREEN.fromHEX("#09FF02"),this.head_collide.color=cc.Color.GREEN.fromHEX("#09FF02");break;case 2:this.graphics.strokeColor=cc.Color.BLUE.fromHEX("#0054FF"),this.head_collide.color=cc.Color.BLUE.fromHEX("#0054FF");break;case 3:this.graphics.strokeColor=cc.Color.YELLOW.fromHEX("#FFEF04"),this.head_collide.color=cc.Color.YELLOW.fromHEX("#FFEF04")}},e.prototype.gameOver=function(){this.graphics.clear(),cc.sys.localStorage.setItem("counter",JSON.stringify(0)),this.isDie=!0,cc.audioEngine.stopMusic(),cc.audioEngine.playEffect(this.snakehitsound,!1),c.Data.bgSpeed=300,c.Data.ProduceFoodIntervalMax=2},e.prototype.update=function(t){this.isDie||(this.head_collide.y+=t*this.sspeed,this.headposy=this.head_collide.y,this.node.y-=t*this.sspeed,this.increaseConstX<0?this.head_collide.x-=t*this.sspeed:this.head_collide.x+=t*this.sspeed,this.isClick&&(this.isClick=!1),this.graphics.moveTo(this.increasePosX,this.increasePosY),this.increasePosX+=t*this.increaseConstX,this.increasePosY+=t*this.increaseConstY,c.Data.snakeFramePos=cc.v2(this.increasePosX,c.Data.snakeInitPosY),this.graphics.lineTo(this.increasePosX,this.increasePosY),this.graphics.stroke(),this.increaseConstY=this.sspeed),"0"===cc.sys.localStorage.getItem("music")&&cc.audioEngine.pauseMusic()},i([u(cc.Graphics)],e.prototype,"graphics",void 0),i([u(cc.Node)],e.prototype,"head_collide",void 0),i([u(cc.AudioClip)],e.prototype,"bgsound",void 0),i([u(cc.AudioClip)],e.prototype,"snakehitsound",void 0),i([a],e)}(cc.Component);o.Board=l,cc._RF.pop()},{"./Data":"Data"}],ColliderHead:[function(t,e,o){"use strict";cc._RF.push(e,"07d3fDIgBxPVLGivwEXJ/0R","ColliderHead");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.ColliderHead=void 0;var c=t("./Food"),s=t("./Data"),a=cc._decorator,u=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.isGameStart=!1,e}return r(e,t),e.prototype.onLoad=function(){this.node.x=cc.winSize.width/2},e.prototype.init=function(t){this.main=t},e.prototype.onCollisionEnter=function(t){if(1==t.tag)if(t.node.getComponent(c.Food).foodColor==this.main.board.snakeColor){t.node.active=!1,this.main.result.getScore(10);var e=cc.sequence(cc.scaleTo(.2,2,2),cc.scaleTo(.2,1,1));this.node.runAction(e.clone()),console.log("cOllision takes place");var o=this.changeColor(this.main.board.snakeColor);o!=this.main.board.snakeColor&&(this.main.board.snakeColor=o,this.main.board.changeColor())}else cc.sys.localStorage.setItem("counter",JSON.stringify(0)),this.main.gameOver();else 9==t.tag?(cc.sys.localStorage.setItem("counter",JSON.stringify(0)),this.main.gameOver()):t.tag},e.prototype.changeColor=function(t){var e=Math.floor(10*Math.random());if(cc.log("Whether to change the color",e),e>=s.Data.changeColorProbability){for(var o=t;o==t;)o=Math.floor(4*Math.random());return o}return t},e.prototype.gameStart=function(){this.isGameStart=!0},e.prototype.gameOver=function(){this.node.active=!1},i([u],e)}(cc.Component));o.ColliderHead=l,cc._RF.pop()},{"./Data":"Data","./Food":"Food"}],Data:[function(t,e,o){"use strict";cc._RF.push(e,"e713dUl6CdOjKRBZCI+ElUc","Data");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Color=o.Data=void 0;var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.bgSpeed=300,e.snakeInitPosX=380,e.snakeInitPosY=300,e.ProduceFoodIntervalMax=2,e.ProduceFoodIntervalMin=.2,e.snakeFramePos=cc.v2(0,0),e.changeColorProbability=5,e.speedincrement=40,e.frequency=10,e.maxDecValue=.2,e.maxFinalValue=.6,i([s],e)}(cc.Component));o.Data=a,function(t){t[t.Red=0]="Red",t[t.Green=1]="Green",t[t.Blue=2]="Blue",t[t.Yellow=3]="Yellow"}(o.Color||(o.Color={})),cc._RF.pop()},{}],FoodGroup:[function(t,e,o){"use strict";cc._RF.push(e,"bd819tql8VIUJeEfWxKP5oG","FoodGroup");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.FoodGroup=o.Foods=void 0;var c=t("./NodePool"),s=t("./Data"),a=t("./Food"),u=cc._decorator,l=u.ccclass,p=u.property,d=function(){function t(){this.name="",this.initPollCount=0,this.prefab=null}return i([p(cc.String)],t.prototype,"name",void 0),i([p(Number)],t.prototype,"initPollCount",void 0),i([p(cc.Prefab)],t.prototype,"prefab",void 0),i([l("Foods")],t)}();o.Foods=d;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.foods=[new d],e.food_produce_posY=null,e.allTime=0,e.main=null,e.isDie=!0,e}return r(e,t),e.prototype.onLoad=function(){c.NodePool.batchInitObjPool(this,this.foods)},e.prototype.init=function(t){this.main=t},e.prototype.putNodePool=function(t){c.NodePool.backObjPool(this,t)},e.prototype.gameStart=function(){this.isDie=!1},e.prototype.gameOver=function(){this.isDie=!0},e.prototype.update=function(t){if(!this.isDie){this.allTime+=t;var e=Math.random()*(s.Data.ProduceFoodIntervalMax-s.Data.ProduceFoodIntervalMin)+s.Data.ProduceFoodIntervalMin;if(this.allTime>=e){var o=Math.floor(Math.random()*this.foods.length),n=this.foods[o].name+"Pool",r=c.NodePool.genNewNode(this[n],this.foods[o].prefab,this.node);r.getComponent(a.Food).init(this);var i=Math.floor(Math.random()*(this.food_produce_posY.getBoundingBox().xMax-r.getBoundingBox().size.width/2-(this.food_produce_posY.getBoundingBox().xMin+r.getBoundingBox().size.width/2))+this.food_produce_posY.getBoundingBox().xMin+r.getBoundingBox().size.width/2);r.x=i,r.y=cc.winSize.height+r.getBoundingBox().size.height/2,this.allTime=0}}},i([p([d])],e.prototype,"foods",void 0),i([p(cc.Node)],e.prototype,"food_produce_posY",void 0),i([l],e)}(cc.Component);o.FoodGroup=f,cc._RF.pop()},{"./Data":"Data","./Food":"Food","./NodePool":"NodePool"}],Food:[function(t,e,o){"use strict";cc._RF.push(e,"25accHi+oRJF5bQuo9BngWW","Food");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Food=void 0;var c=t("./Data"),s=cc._decorator,a=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.group=null,e.foodColor=c.Color.Red,e}return r(e,t),e.prototype.init=function(t){this.group=t},e.prototype.update=function(t){this.node.y-=t*c.Data.bgSpeed,this.node.getBoundingBox().yMax<0&&this.group.putNodePool(this.node)},i([u({type:cc.Enum(c.Color)})],e.prototype,"foodColor",void 0),i([a],e)}(cc.Component);o.Food=l,cc._RF.pop()},{"./Data":"Data"}],Gameover:[function(t,e,o){"use strict";cc._RF.push(e,"32f14PZsvRFnaT0pqLVx2G/","Gameover");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Gameover=void 0;var c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.btn_home=null,e.btn_share=null,e.btn_replay=null,e.finalscore=null,e.mysound=null,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.btn_home.on(cc.Node.EventType.TOUCH_END,function(){cc.audioEngine.playEffect(t.mysound,!1),cc.director.loadScene("menu")}),this.btn_replay.on(cc.Node.EventType.TOUCH_END,function(){cc.sys.localStorage.setItem("counter",JSON.stringify(1)),cc.sys.localStorage.setItem("revival",JSON.stringify(1)),cc.audioEngine.playEffect(t.mysound,!1),cc.director.loadScene("game")})},e.prototype.update=function(){if("1"==JSON.parse(cc.sys.localStorage.getItem("bool"))){var t=JSON.parse(cc.sys.localStorage.getItem("ColorSnakehighscore"));this.finalscore.string=t}cc.sys.localStorage.setItem("bool",JSON.stringify("0")),"0"===cc.sys.localStorage.getItem("sound")&&cc.audioEngine.pauseAllEffects()},i([a(cc.Node)],e.prototype,"btn_home",void 0),i([a(cc.Node)],e.prototype,"btn_share",void 0),i([a(cc.Node)],e.prototype,"btn_replay",void 0),i([a(cc.Label)],e.prototype,"finalscore",void 0),i([a(cc.AudioClip)],e.prototype,"mysound",void 0),i([s],e)}(cc.Component);o.Gameover=u,cc._RF.pop()},{}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"1d8dcUhh0xA6oFno4wwupOs","Main");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Main=void 0;var c=t("./ColliderHead"),s=t("./Board"),a=t("./Result"),u=t("./FoodGroup"),l=t("./Menu"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colliderHead=null,e.board=null,e.result=null,e.foodGroup=null,e.menu=null,e}return r(e,t),e.prototype.onLoad=function(){this.colliderHead.init(this),this.board.init(this),this.result.init(this)},e.prototype.startGame=function(){this.colliderHead.gameStart(),this.foodGroup.gameStart(),this.result.gameStart()},e.prototype.gameOver=function(){this.result.gameOver(),this.board.gameOver(),this.foodGroup.gameOver(),this.colliderHead.gameOver()},i([f(c.ColliderHead)],e.prototype,"colliderHead",void 0),i([f(s.Board)],e.prototype,"board",void 0),i([f(a.Result)],e.prototype,"result",void 0),i([f(u.FoodGroup)],e.prototype,"foodGroup",void 0),i([f(l.Menu)],e.prototype,"menu",void 0),i([d],e)}(cc.Component);o.Main=h,cc._RF.pop()},{"./Board":"Board","./ColliderHead":"ColliderHead","./FoodGroup":"FoodGroup","./Menu":"Menu","./Result":"Result"}],Menu:[function(t,e,o){"use strict";cc._RF.push(e,"7f93fGm/sVC9q5cxXO0nlux","Menu");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Menu=void 0;var c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.mysound=null,e.highscore=null,e.btn_start=null,e.btn_soundoff=null,e.btn_soundon=null,e.btn_musicoff=null,e.btn_musicon=null,e}return r(e,t),e.prototype.onLoad=function(){var t=this,e=JSON.parse(cc.sys.localStorage.getItem("ColorSnakehighscore")),o=JSON.parse(cc.sys.localStorage.getItem("ColorSnakeoverallhighscore"));this.highscore.string=null==o?"0":o<e?e:o,cc.sys.localStorage.setItem("ColorSnakeoverallhighscore",this.highscore.string),this.btn_start.on(cc.Node.EventType.TOUCH_END,function(){cc.sys.localStorage.setItem("revival",JSON.stringify(1)),cc.sys.localStorage.setItem("counter",JSON.stringify(1)),cc.audioEngine.playEffect(t.mysound,!1),cc.director.loadScene("game")}),this.btn_soundon.on("touchend",this.soundOff,this),this.btn_soundoff.on("touchend",this.soundOn,this),this.btn_musicon.on("touchend",this.musicOff,this),this.btn_musicoff.on("touchend",this.musicOn,this)},e.prototype.gameStart=function(){this.node.active=!1},e.prototype.soundOn=function(){this.btn_soundon.active=!0,this.btn_soundoff.active=!1,0==this.btn_soundoff.active?cc.sys.localStorage.setItem("sound",JSON.stringify(1)):cc.sys.localStorage.setItem("sound",JSON.stringify(0))},e.prototype.soundOff=function(){this.btn_soundon.active=!1,this.btn_soundoff.active=!0,1==this.btn_soundoff.active?cc.sys.localStorage.setItem("sound",JSON.stringify(0)):cc.sys.localStorage.setItem("sound",JSON.stringify(1))},e.prototype.musicOn=function(){this.btn_musicon.active=!0,this.btn_musicoff.active=!1,0==this.btn_musicoff.active?cc.sys.localStorage.setItem("music",JSON.stringify(1)):cc.sys.localStorage.setItem("music",JSON.stringify(0))},e.prototype.musicOff=function(){this.btn_musicon.active=!1,this.btn_musicoff.active=!0,1==this.btn_musicoff.active?cc.sys.localStorage.setItem("music",JSON.stringify(0)):cc.sys.localStorage.setItem("music",JSON.stringify(1))},e.prototype.update=function(){var t=cc.sys.localStorage.getItem("sound"),e=cc.sys.localStorage.getItem("music");"0"===t&&cc.audioEngine.pauseAllEffects(),"0"===t?(this.btn_soundoff.active=!0,this.btn_soundon.active=!1):(this.btn_soundoff.active=!1,this.btn_soundon.active=!0),"0"===e?(this.btn_musicoff.active=!0,this.btn_musicon.active=!1):(this.btn_musicoff.active=!1,this.btn_musicon.active=!0)},i([a(cc.AudioClip)],e.prototype,"mysound",void 0),i([a(cc.Label)],e.prototype,"highscore",void 0),i([a(cc.Node)],e.prototype,"btn_start",void 0),i([a(cc.Node)],e.prototype,"btn_soundoff",void 0),i([a(cc.Node)],e.prototype,"btn_soundon",void 0),i([a(cc.Node)],e.prototype,"btn_musicoff",void 0),i([a(cc.Node)],e.prototype,"btn_musicon",void 0),i([s],e)}(cc.Component);o.Menu=u,cc._RF.pop()},{}],NodePool:[function(t,e,o){"use strict";cc._RF.push(e,"1c124zh0uhEF7hqnh40Ab6e","NodePool"),Object.defineProperty(o,"__esModule",{value:!0}),o.NodePool=void 0;var n=function(){function t(){}return t.batchInitObjPool=function(t,e){for(var o=0;o<e.length;o++){var n=e[o];this.initObjPool(t,n)}},t.initObjPool=function(t,e){var o=e.name+"Pool";t[o]=new cc.NodePool;for(var n=e.initPollCount,r=0;r<n;++r){var i=cc.instantiate(e.prefab);t[o].put(i)}},t.genNewNode=function(t,e,o){var n;return n=t.size()>0?t.get():cc.instantiate(e),o.addChild(n),n},t.backObjPool=function(t,e){t[e.name+"Pool"].put(e)},t}();o.NodePool=n,cc._RF.pop()},{}],Result:[function(t,e,o){"use strict";cc._RF.push(e,"8d18c2Se7RIgJdPdYCE8D2k","Result");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Result=void 0;var c=t("./Shake"),s=cc._decorator,a=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=null,e.mysound=null,e.bgsound=null,e.score=null,e.end_score=null,e.game_over=null,e.btn_exit=null,e.btn_restart=null,e.lb_revive_count=null,e.head=null,e.circle_timer=null,e._autoReviveCount=5,e}return r(e,t),e.prototype.init=function(t){var e=this;this.main=t,this.game_over.active=!1,this.score.node.active=!1,cc.sys.localStorage.setItem("score",this.score.string),cc.sys.localStorage.setItem("bool",JSON.stringify("0"));var o=cc.sys.localStorage.getItem("revival");this.btn_exit.on(cc.Node.EventType.TOUCH_END,function(){cc.audioEngine.playEffect(e.mysound,!1),cc.director.loadScene("gameover")}),"1"===o&&this.btn_restart.on(cc.Node.EventType.TOUCH_END,function(){cc.sys.localStorage.setItem("counter",JSON.stringify(1)),cc.audioEngine.playEffect(e.mysound,!1),e.revive(),cc.sys.localStorage.setItem("revival",JSON.stringify(0))})},e.prototype.scoreupdate=function(){cc.director.loadScene("game")},e.prototype.getScore=function(t){this.score.string=(t+Number(this.score.string)).toString()},e.prototype.gameStart=function(){this.score.node.active=!0},e.prototype.gameOver=function(){var t=this,e=cc.sys.localStorage.getItem("revival");"0"===cc.sys.localStorage.getItem("counter")?(this._autoReviveCount=5,this.autoReviveCountFn(),this.schedule(this.autoReviveCountFn,1,this._autoReviveCount+1,0)):this.unschedule(this.autoReviveCountFn),"1"===e?this.game_over.active=!0:cc.director.loadScene("gameover"),this.end_score.string=this.score.string,cc.sys.localStorage.setItem("ColorSnakehighscore",this.end_score.string),cc.sys.localStorage.setItem("bool",JSON.stringify("1")),this.score.node.active=!1,this.scheduleOnce(function(){var e=c.Shake.create(.6,10,10);t.game_over.runAction(e),cc.sys.os==cc.sys.OS_ANDROID&&navigator.vibrate(600)},0)},e.prototype.update=function(){this.circle_timer.fillRange=-this._autoReviveCount/5,"0"===cc.sys.localStorage.getItem("sound")&&cc.audioEngine.pauseAllEffects()},e.prototype.revive=function(){this.unschedule(this.autoReviveCountFn),this.game_over.active=!1,this.gameStart(),this.main.foodGroup.gameStart(),cc.director.getPhysicsManager().enabled=!0,this.head.active=!0,this.main.colliderHead.gameStart(),this.main.board.isDie=!1,this.head.setPosition(cc.winSize.width/2,this.main.board.headposy),this.main.board.increasePosX=cc.winSize.width/2,cc.audioEngine.playMusic(this.bgsound,!1)},e.prototype.autoReviveCountFn=function(){this._autoReviveCount--,this.lb_revive_count.string=""+this._autoReviveCount,this._autoReviveCount<1&&(cc.director.loadScene("leaderboardwithscore"),this._autoReviveCount=0,cc.director.loadScene("gameover"))},i([u(cc.AudioClip)],e.prototype,"mysound",void 0),i([u(cc.AudioClip)],e.prototype,"bgsound",void 0),i([u(cc.Label)],e.prototype,"score",void 0),i([u(cc.Label)],e.prototype,"end_score",void 0),i([u(cc.Node)],e.prototype,"game_over",void 0),i([u(cc.Node)],e.prototype,"btn_exit",void 0),i([u(cc.Node)],e.prototype,"btn_restart",void 0),i([u(cc.Label)],e.prototype,"lb_revive_count",void 0),i([u(cc.Node)],e.prototype,"head",void 0),i([u(cc.Sprite)],e.prototype,"circle_timer",void 0),i([a],e)}(cc.Component);o.Result=l,cc._RF.pop()},{"./Shake":"Shake"}],Shake:[function(t,e,o){"use strict";cc._RF.push(e,"18240PDCFhLyJjsWm0jmGo3","Shake");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Shake=void 0;var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}var o;return r(e,t),o=e,e.create=function(t,e,n){var r=new o;return r.initWithDuration(t,e,n),r},e.prototype.initWithDuration=function(t,e,o){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=o,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(){var t=this.fgRangeRand(-this._strength_x,this._strength_x),e=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){cc.log("this._initial_x-------------",this._initial_x),cc.log("this._initial_y-------------",this._initial_y),this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},o=i([s],e)}(cc.ActionInterval));o.Shake=a,cc._RF.pop()},{}],particlecontrol:[function(t,e,o){"use strict";cc._RF.push(e,"81809xHxA5NZ5QB/3ETQM10","particlecontrol");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particle=null,e}return r(e,t),e.prototype.toggleParticlePlay=function(){var t=this.particle;t.particleCount>0?t.stopSystem():t.resetSystem()},i([a(cc.ParticleSystem)],e.prototype,"particle",void 0),i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"a0e3b3kXfxAWLDY2rjKMIUH","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["BackGround","Board","ColliderHead","Data","Food","FoodGroup","Gameover","Main","Menu","NodePool","Result","Shake","particlecontrol","use_v2.0.x_cc.Toggle_event"]);