window.__require=function e(t,o,n){function r(c,i){if(!o[c]){if(!t[c]){var l=c.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!i&&s)return s(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+c+"'")}c=l}var d=o[c]={exports:{}};t[c][0].call(d.exports,function(e){return r(t[c][1][e]||e)},d,d.exports,e,t,o,n)}return o[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({BallManager:[function(e,t,o){"use strict";cc._RF.push(t,"ed27eVGWBBHYb6LQGwDvi9y","BallManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,l=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ballPrefab=null,t.ballNodeArr=[],t}return r(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(),cc.director.getCollisionManager().enabled=!0,this.node.parent=null,cc.game.addPersistRootNode(this.node),this.createPool()},t.prototype.createPool=function(){this.ballNodeArr.length=0,this.ballPool=new cc.NodePool;for(var e=0;e<100;e++){var t=cc.instantiate(this.ballPrefab);this.ballPool.put(t)}for(e=0;e<100;e++)this.createBallNode()},t.prototype.createBallNode=function(){var e=null;if(this.ballPool.size()>0)e=this.ballPool.get();else{var t=cc.instantiate(this.ballPrefab);this.ballPool.put(t),e=this.ballPool.get()}this.ballNodeArr.push(e)},t.prototype.onBallHit=function(e){this.ballPool.put(e)},t.prototype.start=function(){},a([l({type:cc.Prefab})],t.prototype,"ballPrefab",void 0),a([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],CollisionListener:[function(e,t,o){"use strict";cc._RF.push(t,"9af7c+7u9VOh5258I9fjNWt","CollisionListener");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,l=c.property,s=e("./GameManager"),d=e("./Constant"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameManager=null,t.ballArrMiddle=null,t.ballContainerMiddlePos=cc.v2(0,-35),t.colorPickerArr=[cc.Color.RED,cc.Color.YELLOW,cc.color(240,128,128),cc.color(65,105,225),cc.Color.GREEN,cc.color(147,112,219),cc.Color.CYAN,cc.Color.ORANGE],t}return r(t,e),t.prototype.start=function(){},t.prototype.onCollisionEnter=function(e,t){4==t.tag&&(this.gameManager.getComponent(s.default).prevUuid4.find(function(t){return t==e._id})||(this.gameManager.getComponent(s.default).totalCollisionWithGlass+=1),this.gameManager.getComponent(s.default).prevUuid4.push(e._id))},t.prototype.onCollisionExit=function(e,t){var o=this;4==t.tag&&(this.gameManager.getComponent(s.default).prevUuid2.find(function(t){return t==e._id})||(this.gameManager.getComponent(s.default).levelNumber=t.node.getChildByName("Level").getComponent(cc.Label).string.split("x")[0],this.scheduleOnce(function(){for(var e=0;e<1;e++){var t=cc.instantiate(o.gameManager.getComponent(s.default).ballPrefab);t.getComponent(cc.PhysicsBoxCollider).enabled=!0,t.color=o.gameManager.getComponent(s.default).randomBallColor,o.ballArrMiddle.addChild(t,0),t.setPosition(cc.v2(o.ballContainerMiddlePos.x,o.ballContainerMiddlePos.y)),o.ballContainerMiddlePos.x+=17.5,o.ballContainerMiddlePos.x=0}},.4),e.node.color=t.node.color),this.gameManager.getComponent(s.default).prevUuid2.push(e._id))},t.prototype.update=function(e){if(!this.gameManager.getComponent(s.default).isPause)if(this.gameManager.getComponent(s.default).scoreIncCount<10){var t=this.gameManager.getComponent(s.default).progressTimer.getComponent(cc.ProgressBar).progress;(isNaN(t)||!isFinite(t)||t>=1)&&(t=0,this.colorPickerArr[this.gameManager.getComponent(s.default).levelIncrement-1]&&(this.gameManager.getComponent(s.default).colorArr.push(this.colorPickerArr[this.gameManager.getComponent(s.default).levelIncrement-1]),this.gameManager.getComponent(s.default).levelArr.push(this.gameManager.getComponent(s.default).levelIncrement+1+"x")),this.gameManager.getComponent(s.default).scoreIncCount++,Number(this.gameManager.getComponent(s.default).progressTimer.getChildByName("ScoreInc").getComponent(cc.Label).string.split("x")[0])<9&&(this.gameManager.getComponent(s.default).progressTimer.getChildByName("ScoreInc").getComponent(cc.Label).string=this.gameManager.getComponent(s.default).scoreIncCount+"x",this.gameManager.getComponent(s.default).levelIncrement++,this.gameManager.getComponent(s.default).levelNumLabel.getComponent(cc.Label).string="Level "+this.gameManager.getComponent(s.default).levelIncrement)),t+=e/1/(d.default.increment_freq+15),this.gameManager.getComponent(s.default).progressTimer.getComponent(cc.ProgressBar).progress=t}else this.gameManager.getComponent(s.default).progressTimer.getComponent(cc.ProgressBar).progress=1},a([l({type:cc.Node})],t.prototype,"gameManager",void 0),a([l({type:cc.Node})],t.prototype,"ballArrMiddle",void 0),a([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./Constant":"Constant","./GameManager":"GameManager"}],CollisionWall:[function(e,t,o){"use strict";cc._RF.push(t,"22d4eFFzY9PZIRdbluQsukh","CollisionWall");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./GameManager"),i=cc._decorator,l=i.ccclass,s=i.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ballArr=null,t.gameManager=null,t.resetCountArr=[],t.count=1,t.count2=1,t.count3=0,t.resetRemoveCount=0,t}return r(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.start=function(){},t.prototype.onCollisionExit=function(e,t){0==t.tag&&(this.gameManager.getComponent(c.default).prevUuid.find(function(t){return t==e._id})||(this.gameManager.getComponent(c.default).count1=0,this.gameManager.getComponent(c.default).totalCollision+=1),this.gameManager.getComponent(c.default).prevUuid.push(e._id))},t.prototype.onCollisionEnter=function(e,t){4==t.tag&&e.node.name.startsWith("B")&&(this.gameManager.getComponent(c.default).prevUuid3.find(function(t){return t==e._id})||this.gameManager.getComponent(c.default).resetRemoveCount1++,this.gameManager.getComponent(c.default).prevUuid3.push(e._id)),3==t.tag&&e.node.name.startsWith("B")&&(this.gameManager.getComponent(c.default).prevUuid1.find(function(t){return t==e._id})||(this.resetCountArr[this.resetCountArr.length-1]!=this.gameManager.getComponent(c.default).resetRemoveCount1&&0!=this.gameManager.getComponent(c.default).resetRemoveCount1&&(this.resetCountArr.push(this.gameManager.getComponent(c.default).resetRemoveCount1),this.gameManager.getComponent(c.default).resetRemoveCount1=0),this.gameManager.getComponent(c.default).totalCollision1++,this.scheduleOnce(function(){},.1),"wallDown"==t.node.name&&e.node.x<=0&&(cc.sys.isMobile?e.node.getComponent(cc.RigidBody).linearVelocity=new cc.Vec2(-150,300):e.node.getComponent(cc.RigidBody).linearVelocity=new cc.Vec2(-150,150)),"wallDown"==t.node.name&&e.node.x>0&&(cc.sys.isMobile?e.node.getComponent(cc.RigidBody).linearVelocity=new cc.Vec2(150,250):e.node.getComponent(cc.RigidBody).linearVelocity=new cc.Vec2(150,150)),this.gameManager.getComponent(c.default).resetRemoveCount==this.resetCountArr[0]-1&&(this.gameManager.getComponent(c.default).prevTotalCollision=this.resetCountArr[0],this.gameManager.getComponent(c.default).prevTotalCollisionWithGlass=this.gameManager.getComponent(c.default).totalCollisionWithGlass),this.gameManager.getComponent(c.default).resetRemoveCount++,this.gameManager.getComponent(c.default).resetRemoveCount==this.resetCountArr[0]&&(this.gameManager.getComponent(c.default).removeCount=0,this.gameManager.getComponent(c.default).resetRemoveCount=0,this.gameManager.getComponent(c.default).setBallCount(this.resetCountArr[0],this.gameManager.getComponent(c.default).prevTotalCollisionWithGlass),this.removeContainerBalls(this.resetCountArr[0],this.gameManager.getComponent(c.default).prevTotalCollisionWithGlass),this.resetCountArr.shift()),this.scheduleOnce(function(){return e.node.removeFromParent()},.5)),this.gameManager.getComponent(c.default).prevUuid1.push(e._id))},t.prototype.removeContainerBalls=function(e,t){if(0==this.gameManager.getComponent(c.default).removeCount){this.gameManager.getComponent(c.default).removeCount++,this.gameManager.getComponent(c.default).setScore(this.gameManager.getComponent(c.default).levelNumber,this.gameManager.getComponent(c.default).scoreIncCount),this.gameManager.getComponent(c.default).count1++,this.gameManager.getComponent(c.default).totalCollisionWithGlass=0;for(var o=0;o<e-t;o++)0==this.gameManager.getComponent(c.default).ballArrLeft.children.length&&0==this.gameManager.getComponent(c.default).ballArrRight.children.length||(this.gameManager.getComponent(c.default).count3<5||this.gameManager.getComponent(c.default).count3>14&&this.gameManager.getComponent(c.default).count3<25||this.gameManager.getComponent(c.default).count3>34&&this.gameManager.getComponent(c.default).count3<45||this.gameManager.getComponent(c.default).count3>54&&this.gameManager.getComponent(c.default).count3<65?(this.gameManager.getComponent(c.default).ballArrLeft.children[0].getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,this.gameManager.getComponent(c.default).ballArrLeft.children[0].getComponent(cc.PhysicsBoxCollider).enabled=!0,this.gameManager.getComponent(c.default).ballArrLeft.children[0].setParent(this.node.parent),this.gameManager.getComponent(c.default).count++,this.gameManager.getComponent(c.default).count3++):(this.gameManager.getComponent(c.default).ballArrRight.children[0].getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,this.gameManager.getComponent(c.default).ballArrRight.children[0].getComponent(cc.PhysicsBoxCollider).enabled=!0,this.gameManager.getComponent(c.default).ballArrRight.children[0].setParent(this.node.parent),this.gameManager.getComponent(c.default).count4++,this.gameManager.getComponent(c.default).count3++)),cc.sys.garbageCollect()}},a([s({type:cc.Node})],t.prototype,"ballArr",void 0),a([s({type:cc.Node})],t.prototype,"gameManager",void 0),a([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"./GameManager":"GameManager"}],Constant:[function(e,t,o){"use strict";cc._RF.push(t,"14c7aha0eBCIKP9yu6KH4ab","Constant");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.start_speed=1,t.incremental_value=.3,t.increment_freq=15,t.forceOnNode=cc.v2(0,-3500),t.gamePlayScene="Main",t.homeScene="Start",t.gameOverScene="GameOver",a([i],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],GameManager:[function(e,t,o){"use strict";cc._RF.push(t,"00059Yz9ZlArpy9YGYKB4qY","GameManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c},c=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<o;t++)for(var a=arguments[t],c=0,i=a.length;c<i;c++,r++)n[r]=a[c];return n};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Constant"),l=e("./BallManager"),s=e("./PhysicsEnabler"),d=cc._decorator,p=d.ccclass,u=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ballPrefab=null,t.ballArr=null,t.ballArrLeft=null,t.ballArrRight=null,t.wallDownLeft=null,t.wallDownRight=null,t.glassNodeOne=null,t.glassNodeTwo=null,t.progressTimer=null,t.ballCountLabel=null,t.pointsLabel=null,t.levelNumLabel=null,t.gamePauseUI=null,t.howToPlayUI=null,t.ballContainerLeftPos=cc.v2(-30,-35),t.ballContainerRightPos=cc.v2(-30,-35),t.ballContainerMiddlePos=cc.v2(-56,146),t.totalCollisionWithGlass=0,t.totalCollision=0,t.totalCollision1=0,t.prevTotalCollision=0,t.prevTotalCollisionWithGlass=0,t.colorArr=[cc.color(255,255,255)],t.levelArr=["1x"],t.levelNumber="",t.speed=i.default.start_speed,t.speedIncFreq=i.default.increment_freq,t.levelIncrement=1,t.progressionIncrement=20,t.scoreIncArr=[[1],[1,2],[1,2,3],[1,1,2,2,3,3,4,4],[1,2,2,3,3,3,4,4,4,4,5,5,5,5,5],[1,1,2,2,3,3,3,4,4,4,5,5,5,5,6,6,6,6],[1,2,2,3,3,4,4,4,5,5,5,6,6,6,7,7,7,7],[1,1,2,2,2,3,3,3,3,4,4,4,4,4,5,5,5,5,5,5,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8]],t.scoreIncArrIndex=0,t.ballManagerNodeAtRoot=null,t.isPause=!1,t.totalBallCount=100,t.currentScore=0,t.tempScore=0,t.scoreDeduction=0,t.count1=0,t.count=0,t.count3=0,t.count4=0,t.resetRemoveCount=0,t.resetRemoveCount1=0,t.prevResetRemoveCount=0,t.removeCount=0,t.scoreIncCount=1,t.prevUuid=[],t.prevUuid1=[],t.prevUuid2=[],t.prevUuid3=[],t.prevUuid4=[],t.moveGlassTwo=!1,t}return r(t,e),t.prototype.generateRandomPosiitons=function(e){for(var t,o=c(e),n=o.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1));t=[o[r],o[n]],o[n]=t[0],o[r]=t[1]}return o},t.prototype.__preload=function(){cc.sys.garbageCollect(),cc.sys.restartVM()},t.prototype.onLoad=function(){cc.director.preloadScene(i.default.gameOverScene),cc.director.preloadScene(i.default.gamePlayScene),cc.director.preloadScene(i.default.homeScene),this.ballManagerNode=cc.find("PersistNode"),this.ballManagerNode||(this.ballManagerNode=this.ballManagerNodeAtRoot,this.ballManagerNode.getComponent(l.default).createPool())},t.prototype.start=function(){this.createMiddleContainer(this.node,this.ballContainerMiddlePos),this.createContainerNodes(this.ballArrLeft,this.ballContainerLeftPos),this.createContainerNodes(this.ballArrRight,this.ballContainerRightPos),this.speed=i.default.start_speed,this.speedIncFreq=i.default.increment_freq,this.node.on(cc.Node.EventType.TOUCH_START,this.handleTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.handleTouchEnd,this)},t.prototype.createContainerNodes=function(e,t){for(var o=0;o<6;o++){for(var n=0;n<5;n++){var r=this.ballManagerNode.getComponent(l.default).ballNodeArr.pop();r.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,r.getComponent(cc.PhysicsBoxCollider).enabled=!1,r.parent=e,r.setPosition(cc.v2(t.x,t.y)),t.x+=15}t.y+=14,t.x=-30}},t.prototype.createMiddleContainer=function(e,t){for(var o=0;o<4;o++){for(var n=0;n<9;n++)(r=this.ballManagerNode.getComponent(l.default).ballNodeArr.pop()).getComponent(cc.PhysicsBoxCollider).enabled=!1,r.addComponent(s.default),r.parent=e,cc.sys.isMobile?r.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-300):r.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-200),r.setPosition(cc.v2(t.x,t.y)),n<4?(t.x+=14,t.y+=3):(t.x+=14,t.y-=3);t.x=-56,t.y-=14}for(t.x=-14,t.y=95,o=0;o<4;o++){var r;(r=this.ballManagerNode.getComponent(l.default).ballNodeArr.pop()).getComponent(cc.PhysicsBoxCollider).enabled=!1,r.addComponent(s.default),cc.sys.isMobile?r.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-300):r.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-200),0!=o?(r.parent=e,r.setPosition(cc.v2(t.x,t.y)),t.x+=14):(r.parent=e,r.setPosition(cc.v2(0,t.y)),t.y-=15)}},t.prototype.pauseBtnAction=function(){this.gamePauseUI.zIndex=300,this.gamePauseUI.active=!0,this.isPause=!0,this.scheduleOnce(function(){cc.director.pause(),cc.game.pause()},.01)},t.prototype.resumeBtnAction=function(){cc.director.resume(),cc.game.resume(),this.isPause=!1,this.gamePauseUI.active=!1,this.howToPlayUI.active=!1},t.prototype.restartBtnAction=function(){cc.director.resume(),cc.game.resume(),this.ballManagerNode.getComponent(l.default).createPool(),cc.director.loadScene(i.default.gamePlayScene)},t.prototype.howToPlayBtnAction=function(e,t){this.BtnLocation=t,cc.director.resume(),cc.game.resume(),this.isPause=!0,this.gamePauseUI.active=!1,this.howToPlayUI.zIndex=300,this.howToPlayUI.active=!0},t.prototype.doneBtnAction=function(){"TopBar"!=this.BtnLocation?(this.howToPlayUI.active=!1,this.gamePauseUI.active=!0):this.isPause=!1},t.prototype.homeBtnAction=function(){cc.director.resume(),cc.game.resume(),this.ballManagerNode.getComponent(l.default).createPool(),cc.director.loadScene(i.default.homeScene)},t.prototype.handleTouchStart=function(){this.randomBallColor=this.generateRandomPosiitons(this.colorArr)[0],this.totalCollision=0,this.totalCollision1=0,this.wallDownLeft.angle=-120,this.wallDownLeft.setPosition(-30.3,-11.4),this.wallDownRight.angle=120,this.wallDownRight.setPosition(30.3,-11.4)},t.prototype.handleTouchEnd=function(){this.wallDownLeft.angle=0,this.wallDownLeft.setPosition(-31.3,-14.4),this.wallDownRight.angle=0,this.wallDownRight.setPosition(31.3,-14.4)},t.prototype.setBallCount=function(e,t){var o,n=this;o=e-t,this.totalBallCount-=o,this.ballCountLabel.getComponent(cc.Label).string=this.totalBallCount.toString(),0==this.totalBallCount&&this.scheduleOnce(function(){return n.game_Over()},.5)},t.prototype.game_Over=function(){(null==cc.sys.localStorage.getItem("100BallsHighScore")||this.currentScore>cc.sys.localStorage.getItem("100BallsHighScore"))&&cc.sys.localStorage.setItem("100BallsHighScore",this.currentScore),cc.director.loadScene(i.default.gameOverScene)},t.prototype.setScore=function(e){if(0==this.count1&&0!=this.totalCollisionWithGlass){var t,o=void 0;do{o=this.generateRandomPosiitons(this.scoreIncArr[this.scoreIncArrIndex])[0]}while(!o);t=1*Number(e)*o*this.totalCollisionWithGlass,this.currentScore+=t,this.tempScore=t;for(var n=0;n<20;n++){var r=cc.fadeTo(.04*n,255),a=cc.callFunc(this.scoreAnimation,this),c=void 0,i=void 0;19==n?(i=cc.callFunc(this.ScoreLabelAnimation,this),c=cc.sequence(a,cc.delayTime(.3),i)):c=cc.sequence(r,a),this.pointsLabel.runAction(c)}}},t.prototype.scoreAnimation=function(){if(this.scoreDeduction<this.currentScore){var e=Number((this.tempScore/10).toFixed(0));this.scoreDeduction+=e,this.pointsLabel.getComponent(cc.Label).string=this.scoreDeduction.toString(),cc.sys.localStorage.setItem("score1",this.scoreDeduction)}},t.prototype.ScoreLabelAnimation=function(){this.scoreDeduction=this.currentScore;var e=cc.scaleTo(.1,1.3,1.3),t=cc.scaleTo(.1,1,1),o=cc.spawn(e,t);this.pointsLabel.runAction(o),this.pointsLabel.getComponent(cc.Label).string=this.currentScore.toString()},t.prototype.moveGlass=function(e,t){e.setPosition(new cc.Vec3(e.position.x-this.speed*t*60,e.position.y,1))},t.prototype.setForceAndGravity=function(e){cc.sys.isMobile||100==cc.sys.platform?(cc.game.setFrameRate(60),this.scoreIncCount<=3&&this.node.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-40),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1),"ballArrMiddle"==t.name&&t.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-40),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1)})}),this.scoreIncCount>3&&this.scoreIncCount<=6&&this.node.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-60),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1),"ballArrMiddle"==t.name&&t.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-60),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1)})}),this.scoreIncCount>6&&this.node.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-80),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1),"ballArrMiddle"==t.name&&t.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-80),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1)})})):(this.scoreIncCount<=3&&this.node.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-40),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1),"ballArrMiddle"==t.name&&t.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-40),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1)})}),this.scoreIncCount>3&&this.scoreIncCount<=6&&this.node.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-60),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1),"ballArrMiddle"==t.name&&t.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-60),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1)})}),this.scoreIncCount>6&&this.node.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-80),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1),"ballArrMiddle"==t.name&&t.children.forEach(function(t){"Ball"==t.name&&t.getComponent(cc.RigidBody).applyForce(cc.v2(i.default.forceOnNode.x,i.default.forceOnNode.y*e-80),t.getComponent(cc.RigidBody).getWorldPosition(cc.v2()),!1)})}))},t.prototype.update=function(e){if(this.isPause?(this.node.off(cc.Node.EventType.TOUCH_START,this.handleTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.handleTouchEnd,this)):(this.node.on(cc.Node.EventType.TOUCH_START,this.handleTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.handleTouchEnd,this)),!this.isPause){if(this.setForceAndGravity(e),this.speed<3&&(this.speedIncFreq-=e),this.speedIncFreq<=0&&(this.speedIncFreq=i.default.increment_freq,this.scoreIncArrIndex<this.scoreIncArr.length-1?this.scoreIncArrIndex++:this.scoreIncArrIndex=this.scoreIncArr.length-1,this.speed+=i.default.incremental_value),this.moveGlass(this.glassNodeOne,e),this.glassNodeOne.position.x<=0&&(this.moveGlassTwo=!0),this.moveGlassTwo&&this.moveGlass(this.glassNodeTwo,e),this.glassNodeOne.position.x<=-220){this.glassNodeOne.setPosition(new cc.Vec3(210,this.glassNodeOne.position.y,1));var t=this.generateRandomPosiitons(this.colorArr)[0],o=this.colorArr.indexOf(t);this.glassNodeOne.color=t,this.glassNodeOne.getChildByName("Level").getComponent(cc.Label).string=this.levelArr[o],this.glassNodeOne.getChildByName("Level").color=t}this.glassNodeTwo.position.x<=-220&&(this.glassNodeTwo.setPosition(new cc.Vec3(210,this.glassNodeTwo.position.y,1)),t=this.generateRandomPosiitons(this.colorArr)[0],o=this.colorArr.indexOf(t),this.glassNodeTwo.color=t,this.glassNodeTwo.getChildByName("Level").color=t,this.glassNodeTwo.getChildByName("Level").getComponent(cc.Label).string=this.levelArr[o])}},a([u({type:cc.Prefab})],t.prototype,"ballPrefab",void 0),a([u({type:cc.Node})],t.prototype,"ballArr",void 0),a([u({type:cc.Node})],t.prototype,"ballArrLeft",void 0),a([u({type:cc.Node})],t.prototype,"ballArrRight",void 0),a([u({type:cc.Node})],t.prototype,"wallDownLeft",void 0),a([u({type:cc.Node})],t.prototype,"wallDownRight",void 0),a([u({type:cc.Node})],t.prototype,"glassNodeOne",void 0),a([u({type:cc.Node})],t.prototype,"glassNodeTwo",void 0),a([u({type:cc.Node})],t.prototype,"progressTimer",void 0),a([u({type:cc.Node})],t.prototype,"ballCountLabel",void 0),a([u({type:cc.Node})],t.prototype,"pointsLabel",void 0),a([u({type:cc.Node})],t.prototype,"levelNumLabel",void 0),a([u({type:cc.Node})],t.prototype,"gamePauseUI",void 0),a([u({type:cc.Node})],t.prototype,"howToPlayUI",void 0),a([u({type:cc.Node})],t.prototype,"ballManagerNodeAtRoot",void 0),a([p],t)}(cc.Component);o.default=g,cc._RF.pop()},{"./BallManager":"BallManager","./Constant":"Constant","./PhysicsEnabler":"PhysicsEnabler"}],GameOver:[function(e,t,o){"use strict";cc._RF.push(t,"a796eSvSs1CjqnKsZwlQgwm","GameOver");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./Constant"),i=e("./BallManager"),l=cc._decorator,s=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.score1=null,t}return r(t,e),t.prototype.onLoad=function(){this.score=cc.sys.localStorage.getItem("100BallsHighScore"),this.score1.string=this.score.toString(),this.ballManagerNode=cc.find("PersistNode"),this.ballManagerNode.getComponent(i.default).createPool()},t.prototype.start=function(){cc.director.preloadScene(c.default.gamePlayScene),cc.director.preloadScene(c.default.homeScene)},t.prototype.restartBtnAction=function(){cc.director.loadScene(c.default.gamePlayScene)},t.prototype.homeBtnAction=function(){cc.director.loadScene(c.default.homeScene)},t.Adload=null,a([d(cc.Label)],t.prototype,"score1",void 0),a([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./BallManager":"BallManager","./Constant":"Constant"}],MainMenuManager:[function(e,t,o){"use strict";cc._RF.push(t,"4e97fM+z+VPC7m5LZXeEMjo","MainMenuManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./Constant"),i=cc._decorator,l=i.ccclass,s=i.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.highScoreLabel=null,t}return r(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(),cc.director.getCollisionManager().enabled=!0,this.highScoreLabel.getComponent(cc.Label).string=cc.sys.localStorage.getItem("100BallsHighScore")?cc.sys.localStorage.getItem("100BallsHighScore"):0,cc.director.preloadScene(c.default.gamePlayScene)},t.prototype.start=function(){},t.prototype.playBtnAction=function(){cc.director.loadScene(c.default.gamePlayScene)},a([s({type:cc.Node})],t.prototype,"highScoreLabel",void 0),a([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"./Constant":"Constant"}],PhysicsEnabler:[function(e,t,o){"use strict";cc._RF.push(t,"e0c4ejV2h1JvoWnzeDalwkO","PhysicsEnabler");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onCollisionEnter=function(e,t){t.node.getComponent(cc.PhysicsBoxCollider).enabled=!0},a([i],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],Tutorial:[function(e,t,o){"use strict";cc._RF.push(t,"9a51c4Rp2dDBKiHD5v6LBV8","Tutorial");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,l=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tutorialObj=null,t}return r(t,e),t.prototype.OpenTutorial=function(){this.tutorialObj.active=!0},t.prototype.Done=function(){this.node.parent.active=!1},a([l(cc.Node)],t.prototype,"tutorialObj",void 0),a([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}]},{},["BallManager","CollisionListener","CollisionWall","Constant","GameManager","GameOver","MainMenuManager","PhysicsEnabler","Tutorial"]);